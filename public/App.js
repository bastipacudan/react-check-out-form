class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      cnt: 0,
      userData: []
    };
    this.onSubmit = this.onSubmit.bind(this);
  }

  onSubmit(data = {}) {
    this.handleData(data, this.state.cnt);

    if (this.state.cnt == 4) {
      this.setState({
        cnt: 0
      });
      this.sendData(this.state.userData);
    } else this.setState({
      cnt: this.state.cnt + 1
    });
  }

  handleData(data, current) {
    var arr = this.state.userData;
    arr.push(data);
    this.setState({
      userData: arr
    }, () => console.log(this.state.userData));
  }

  sendData(data) {
    var userData = {};
    this.state.userData.forEach(data => {
      userData = Object.assign(userData, data);
    });
    console.log('send this data:', userData);
    fetch('/send', {
      method: 'POST',
      // or 'PUT'
      body: JSON.stringify(userData),
      // data can be `string` or {object}!
      headers: {
        'Content-Type': 'application/json'
      }
    }).then(res => res.json()).then(response => console.log('Success:', JSON.stringify(response))).catch(error => console.error('Error:', error));
  }

  getData() {
    fetch('/get', {
      method: 'GET'
    }).then(res => res.json()).then(res => console.log(res));
  }

  render() {
    if (this.state.cnt === 0) {
      return React.createElement("div", null, React.createElement(Home, {
        onSubmit: this.onSubmit
      }));
    } else if (this.state.cnt === 1) {
      return React.createElement("div", null, React.createElement(F1, {
        onSubmit: this.onSubmit
      }));
    } else if (this.state.cnt === 2) {
      return React.createElement("div", null, React.createElement(F2, {
        onSubmit: this.onSubmit
      }));
    } else if (this.state.cnt === 3) {
      return React.createElement("div", null, React.createElement(F3, {
        onSubmit: this.onSubmit
      }));
    } else {
      return React.createElement("div", null, React.createElement(Purchase, {
        props: {
          onClick: this.onSubmit,
          data: this.state.userData
        }
      }));
    }
  }

}

class Home extends React.Component {
  constructor(props) {
    super(props);
    this.state = {};
  }

  render() {
    return React.createElement("div", null, React.createElement("h3", null, " Home Page"), React.createElement("button", {
      onClick: () => {
        this.props.onSubmit(this.state);
      }
    }, "Checkout"));
  }

}

class F1 extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      name: '',
      email: '',
      password: ''
    };
  }

  onSubmit(e) {
    e.preventDefault();
    this.setState({
      name: document.getElementById('name').value,
      email: document.getElementById('email').value,
      password: document.getElementById('password').value
    }, () => {
      this.props.onSubmit(this.state);
    });
  }

  render() {
    return React.createElement("div", null, React.createElement("h3", null, "Personal Info"), React.createElement("form", {
      onSubmit: e => this.onSubmit(e)
    }, React.createElement("input", {
      type: "text",
      name: "name",
      placeholder: "Name..",
      id: "name"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "email",
      placeholder: "Email..",
      id: "email"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "password",
      placeholder: "Password..",
      id: "password"
    }), React.createElement("br", null), React.createElement("input", {
      type: "submit",
      value: "Submit"
    })));
  }

}

class F2 extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      l1: '',
      l2: '',
      city: '',
      state: '',
      zip: ''
    };
  }

  onSubmit(e) {
    e.preventDefault();
    this.setState({
      l1: document.getElementById('l1').value,
      l2: document.getElementById('l2').value,
      city: document.getElementById('city').value,
      state: document.getElementById('state').value,
      zip: document.getElementById('zip').value
    }, () => {
      this.props.onSubmit(this.state);
    });
  }

  render() {
    return React.createElement("div", null, React.createElement("h3", null, "Address Info"), React.createElement("form", {
      onSubmit: e => this.onSubmit(e)
    }, React.createElement("input", {
      type: "text",
      name: "l1",
      placeholder: "Line 1..",
      id: "l1"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "'l2",
      placeholder: "Line 2..",
      id: "l2"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "city",
      placeholder: "City..",
      id: "city"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "state",
      placeholder: "State..",
      id: "state"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "zip",
      placeholder: "Zip Code..",
      id: "zip"
    }), React.createElement("br", null), React.createElement("input", {
      type: "submit",
      value: "Submit"
    })));
  }

}

class F3 extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      creditCard: '',
      exp: '',
      cvv: ''
    };
  }

  onSubmit(e) {
    e.preventDefault();
    this.setState({
      creditCard: document.getElementById('creditCard').value,
      exp: document.getElementById('exp').value,
      cvv: document.getElementById('cvv').value
    }, () => {
      this.props.onSubmit(this.state);
    });
  }

  render() {
    return React.createElement("div", null, React.createElement("h3", null, "Billing Info"), React.createElement("form", {
      onSubmit: e => this.onSubmit(e)
    }, React.createElement("input", {
      type: "text",
      name: "cc",
      placeholder: "Credit Card #..",
      id: "creditCard"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "exp",
      placeholder: "Expiration Date..",
      id: "exp"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "cvv",
      placeholder: "CVV..",
      id: "cvv"
    }), React.createElement("br", null), React.createElement("input", {
      type: "submit",
      value: "Submit"
    })));
  }

}

class Purchase extends React.Component {
  constructor(props) {
    super(props);
  }

  render() {
    var userData = {};
    this.props.props.data.forEach(data => {
      userData = Object.assign(userData, data);
    });
    console.log('this is the user', userData);
    return React.createElement("div", null, React.createElement("h3", null, " Confirmation Page"), React.createElement("div", null, React.createElement("h3", null, "Personal Info"), React.createElement("input", {
      type: "text",
      name: "name",
      value: userData.name,
      id: "name"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "email",
      value: userData.email,
      id: "email"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "password",
      value: userData.password,
      id: "password"
    }), React.createElement("br", null)), React.createElement("div", null, React.createElement("h3", null, "Address Info"), React.createElement("input", {
      type: "text",
      name: "l1",
      value: userData.l1,
      id: "l1"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "'l2",
      value: userData.l2,
      id: "l2"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "city",
      value: userData.city,
      id: "city"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "state",
      value: userData.state,
      id: "state"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "zip",
      value: userData.zip,
      id: "zip"
    }), React.createElement("br", null)), React.createElement("div", null, React.createElement("h3", null, "Billing Info"), React.createElement("input", {
      type: "text",
      name: "cc",
      value: userData.creditCard,
      id: "creditCard"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "exp",
      value: userData.exp,
      id: "exp"
    }), React.createElement("br", null), React.createElement("input", {
      type: "text",
      name: "cvv",
      value: userData.cvv,
      id: "cvv"
    }), React.createElement("br", null)), React.createElement("br", null), React.createElement("button", {
      onClick: () => {
        this.props.props.onClick();
      }
    }, "Purchase"));
  }

}

ReactDOM.render(React.createElement(App, {
  props: {}
}), document.getElementById('app'));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2NsaWVudC9BcHAuanN4Il0sIm5hbWVzIjpbIkFwcCIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwiY250IiwidXNlckRhdGEiLCJvblN1Ym1pdCIsImJpbmQiLCJkYXRhIiwiaGFuZGxlRGF0YSIsInNldFN0YXRlIiwic2VuZERhdGEiLCJjdXJyZW50IiwiYXJyIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJmb3JFYWNoIiwiT2JqZWN0IiwiYXNzaWduIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJ0aGVuIiwicmVzIiwianNvbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJlcnJvciIsImdldERhdGEiLCJyZW5kZXIiLCJvbkNsaWNrIiwiSG9tZSIsIkYxIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJlIiwicHJldmVudERlZmF1bHQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJGMiIsImwxIiwibDIiLCJjaXR5IiwiemlwIiwiRjMiLCJjcmVkaXRDYXJkIiwiZXhwIiwiY3Z2IiwiUHVyY2hhc2UiLCJSZWFjdERPTSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBTixTQUFrQkMsS0FBSyxDQUFDQyxTQUF4QixDQUFtQztBQUMvQkMsRUFBQUEsV0FBVyxDQUFDQyxLQUFELEVBQU87QUFDZixVQUFNQSxLQUFOO0FBQ0EsU0FBS0MsS0FBTCxHQUFhO0FBQ1pDLE1BQUFBLEdBQUcsRUFBRSxDQURPO0FBRVpDLE1BQUFBLFFBQVEsRUFBQztBQUZHLEtBQWI7QUFJQSxTQUFLQyxRQUFMLEdBQWdCLEtBQUtBLFFBQUwsQ0FBY0MsSUFBZCxDQUFtQixJQUFuQixDQUFoQjtBQUNGOztBQUVERCxFQUFBQSxRQUFRLENBQUNFLElBQUksR0FBRyxFQUFSLEVBQVc7QUFFakIsU0FBS0MsVUFBTCxDQUFnQkQsSUFBaEIsRUFBc0IsS0FBS0ws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SkosRUFLSSwrQkFMSixFQU1JO0FBQU8sTUFBQSxJQUFJLEVBQUMsTUFBWjtBQUFtQixNQUFBLElBQUksRUFBQyxLQUF4QjtBQUE4QixNQUFBLEtBQUssRUFBRS9DLFFBQVEsQ0FBQ2dELEdBQTlDO0FBQW1ELE1BQUEsRUFBRSxFQUFFO0FBQXZELE1BTkosRUFPSSwrQkFQSixDQTNCSixFQXFDSSwrQkFyQ0osRUFzQ0U7QUFBUSxNQUFBLE9BQU8sRUFBSSxNQUFNO0FBQUMsYUFBS25ELEtBQUwsQ0FBV0EsS0FBWCxDQUFpQmdDLE9BQWpCO0FBQTJCO0FBQXJELGtCQXRDRixDQURKO0FBeUNEOztBQXJEcUM7O0FBMER4Q3FCLFFBQVEsQ0FBQ3RCLE1BQVQsQ0FDSSxvQkFBQyxHQUFEO0FBQUssRUFBQSxLQUFLLEVBQUc7QUFBYixFQURKLEVBRUlTLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixLQUF4QixDQUZKIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQXBwIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50ICB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICBjbnQ6IDAsXG4gICAgICAgIHVzZXJEYXRhOltdXG4gICAgICAgfVxuICAgICAgIHRoaXMub25TdWJtaXQgPSB0aGlzLm9uU3VibWl0LmJpbmQodGhpcyk7XG4gICAgfVxuICBcbiAgICBvblN1Ym1pdChkYXRhID0ge30pe1xuICAgICAgXG4gICAgICB0aGlzLmhhbmRsZURhdGEoZGF0YSwgdGhpcy5zdGF0ZS5jbnQpO1xuICAgICAgaWYodGhpcy5zdGF0ZS5jbnQgPT0gNCl7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2NudDogMH0pXG4gICAgICAgIHRoaXMuc2VuZERhdGEodGhpcy5zdGF0ZS51c2VyRGF0YSk7XG4gICAgICB9XG4gICAgICAgXG4gICAgICBlbHNlIFxuICAgICAgICB0aGlzLnNldFN0YXRlKHtjbnQ6dGhpcy5zdGF0ZS5jbnQrMX0pXG4gICAgfVxuXG4gICAgaGFuZGxlRGF0YShkYXRhLGN1cnJlbnQpe1xuICAgICAgICB2YXIgYXJyID0gdGhpcy5zdGF0ZS51c2VyRGF0YTtcbiAgICAgICAgYXJyLnB1c2goZGF0YSlcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7dXNlckRhdGE6IGFycn0sICgpID0+Y29uc29sZS5sb2codGhpcy5zdGF0ZS51c2VyRGF0YSkpXG4gICAgfVxuICAgIHNlbmREYXRhKGRhdGEpe1xuICAgICAgICB2YXIgdXNlckRhdGEgPSB7fVxuXG4gICAgICAgIHRoaXMuc3RhdGUudXNlckRhdGEuZm9yRWFjaChkYXRhID0+IHtcbiAgICAgICAgICAgIHVzZXJEYXRhID0gT2JqZWN0LmFzc2lnbih1c2VyRGF0YSxkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbmQgdGhpcyBkYXRhOicgLHVzZXJEYXRhKVxuICAgICAgICBmZXRjaCgnL3NlbmQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywgLy8gb3IgJ1BVVCdcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKSwgLy8gZGF0YSBjYW4gYmUgYHN0cmluZ2Agb3Ige29iamVjdH0hXG4gICAgICAgICAgICBoZWFkZXJzOntcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gY29uc29sZS5sb2coJ1N1Y2Nlc3M6JywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKSlcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpKTtcbiAgICB9XG5cbiAgICBnZXREYXRhKCl7XG4gICAgICAgIGZldGNoKCcvZ2V0Jywge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgICAgICAgIH0pXG4gICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAudGhlbihyZXMgPT4gY29uc29sZS5sb2cocmVzKSk7XG4gICAgfVxuXG5cbiAgIHJlbmRlcigpIHtcbiAgICBpZih0aGlzLnN0YXRlLmNudCA9PT0gMCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICA8ZGl2PjxIb21lIG9uU3VibWl0ID17dGhpcy5vblN1Ym1pdH0vPjwvZGl2PlxuICAgICAgICApXG4gICAgfSBlbHNlIGlmKHRoaXMuc3RhdGUuY250ID09PSAxKSB7XG4gICAgICByZXR1cm4oXG4gICAgICAgPGRpdj48RjEgb25TdWJtaXQgPXt0aGlzLm9uU3VibWl0fS8+PC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIGlmKHRoaXMuc3RhdGUuY250ID09PSAyKSB7XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxkaXY+PEYyIG9uU3VibWl0ID17dGhpcy5vblN1Ym1pdH0vPjwvZGl2PlxuICAgICAgICAgICApXG4gICAgfSBlbHNlIGlmKHRoaXMuc3RhdGUuY250ID09PSAzKSB7XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxkaXY+PEYzIG9uU3VibWl0ID17dGhpcy5vblN1Ym1pdH0vPjwvZGl2PlxuICAgICAgICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPGRpdj48UHVyY2hhc2UgcHJvcHMgPXt7b25DbGljazp0aGlzLm9uU3VibWl0LCBkYXRhOiB0aGlzLnN0YXRlLnVzZXJEYXRhfX0vPjwvZGl2PlxuICAgICAgICAgICApXG4gICAgfVxuICAgICBcbiAgIH1cbn1cbmNsYXNzIEhvbWUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICB9XG4gICAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDM+IEhvbWUgUGFnZTwvaDM+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrID0geygpID0+IHt0aGlzLnByb3BzLm9uU3VibWl0KHRoaXMuc3RhdGUpfX0+Q2hlY2tvdXQ8L2J1dHRvbj5cbiAgICAgICA8L2Rpdj4pXG4gIH1cbn0gXG5cbmNsYXNzIEYxIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgICAgcGFzc3dvcmQ6JydcbiAgICAgICAgfVxuICAgIH1cblxuICBvblN1Ym1pdChlKXtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBuYW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZScpLnZhbHVlLFxuICAgICAgICBlbWFpbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsJykudmFsdWUsXG4gICAgICAgIHBhc3N3b3JkOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZCcpLnZhbHVlXG4gICAgICB9LCgpID0+IHt0aGlzLnByb3BzLm9uU3VibWl0KHRoaXMuc3RhdGUpfSlcbiAgfSAgXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMz5QZXJzb25hbCBJbmZvPC9oMz5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdCA9eyhlKSA9PiB0aGlzLm9uU3VibWl0KGUpfT5cbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibmFtZVwiIHBsYWNlaG9sZGVyPVwiTmFtZS4uXCIgaWQgPSBcIm5hbWVcIi8+XG4gICAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiZW1haWxcIiBwbGFjZWhvbGRlcj1cIkVtYWlsLi5cIiBpZCA9IFwiZW1haWxcIi8+XG4gICAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkLi5cIiBpZCA9IFwicGFzc3dvcmRcIi8+XG4gICAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiU3VibWl0XCIvPlxuICAgICAgICAgIDwvZm9ybT4gXG4gICAgICAgPC9kaXY+KVxuICB9XG59IFxuXG5jbGFzcyBGMiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBsMTonJyxcbiAgICAgICAgICAgIGwyOicnLFxuICAgICAgICAgICAgY2l0eTogJycsXG4gICAgICAgICAgICBzdGF0ZTogJycsXG4gICAgICAgICAgICB6aXA6JydcbiAgICAgICAgfVxuICAgIH1cblxuICBvblN1Ym1pdChlKXtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBsMTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2wxJykudmFsdWUsXG4gICAgICAgIGwyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbDInKS52YWx1ZSxcbiAgICAgICAgY2l0eTpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2l0eScpLnZhbHVlLFxuICAgICAgICBzdGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXRlJykudmFsdWUsXG4gICAgICAgIHppcDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ppcCcpLnZhbHVlXG4gICAgICB9LCgpID0+IHt0aGlzLnByb3BzLm9uU3VibWl0KHRoaXMuc3RhdGUpfSlcbiAgfSBcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuICg8ZGl2PlxuICAgICAgICA8aDM+QWRkcmVzcyBJbmZvPC9oMz5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQgPXsoZSkgPT4gdGhpcy5vblN1Ym1pdChlKX0+XG4gICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJsMVwiIHBsYWNlaG9sZGVyPVwiTGluZSAxLi5cIiBpZCA9XCJsMVwiLz5cbiAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIidsMlwiIHBsYWNlaG9sZGVyPVwiTGluZSAyLi5cImlkID1cImwyXCIgLz5cbiAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImNpdHlcIiBwbGFjZWhvbGRlcj1cIkNpdHkuLlwiIGlkID1cImNpdHlcIi8+XG4gICAgICAgICAgIDxici8+XG4gICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzdGF0ZVwiIHBsYWNlaG9sZGVyPVwiU3RhdGUuLlwiIGlkID1cInN0YXRlXCIvPlxuICAgICAgICAgICA8YnIvPlxuICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiemlwXCIgcGxhY2Vob2xkZXI9XCJaaXAgQ29kZS4uXCIgaWQgPVwiemlwXCIvPlxuICAgICAgICAgICA8YnIvPlxuICAgICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiU3VibWl0XCIvPlxuICAgICAgICA8L2Zvcm0+IFxuICAgICA8L2Rpdj4pXG4gIH1cbn0gXG5cbmNsYXNzIEYzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNyZWRpdENhcmQ6ICcnLFxuICAgICAgICAgICAgZXhwOiAnJyxcbiAgICAgICAgICAgIGN2djogJydcbiAgICAgICAgfVxuICAgIH1cblxuICBvblN1Ym1pdChlKXtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjcmVkaXRDYXJkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlZGl0Q2FyZCcpLnZhbHVlLFxuICAgICAgICBleHA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHAnKS52YWx1ZSxcbiAgICAgICAgY3Z2OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdnYnKS52YWx1ZSxcbiAgICAgIH0sKCkgPT4ge3RoaXMucHJvcHMub25TdWJtaXQodGhpcy5zdGF0ZSl9KVxuICB9IFxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKDxkaXY+XG4gICAgICAgIDxoMz5CaWxsaW5nIEluZm88L2gzPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdCA9eyhlKSA9PiB0aGlzLm9uU3VibWl0KGUpfT5cbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImNjXCIgcGxhY2Vob2xkZXI9XCJDcmVkaXQgQ2FyZCAjLi5cIiBpZCA9XCJjcmVkaXRDYXJkXCIvPlxuICAgICAgICAgICA8YnIvPlxuICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiZXhwXCIgcGxhY2Vob2xkZXI9XCJFeHBpcmF0aW9uIERhdGUuLlwiIGlkID1cImV4cFwiLz5cbiAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImN2dlwiIHBsYWNlaG9sZGVyPVwiQ1ZWLi5cIiBpZCA9XCJjdnZcIi8+XG4gICAgICAgICAgIDxici8+XG4gICAgICAgIFxuICAgICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiU3VibWl0XCIvPlxuICAgICAgICA8L2Zvcm0+IFxuICAgICA8L2Rpdj4pXG4gICB9XG4gfVxuIGNsYXNzIFB1cmNoYXNlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgIFxuICAgIH1cbiAgXG4gIHJlbmRlcigpIHtcbiAgICAgdmFyIHVzZXJEYXRhID0ge307XG4gICAgIHRoaXMucHJvcHMucHJvcHMuZGF0YS5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgICAgdXNlckRhdGEgPSBPYmplY3QuYXNzaWduKHVzZXJEYXRhLCBkYXRhKTtcbiAgICAgfSk7XG4gICAgY29uc29sZS5sb2coJ3RoaXMgaXMgdGhlIHVzZXInLHVzZXJEYXRhKVxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGgzPiBDb25maXJtYXRpb24gUGFnZTwvaDM+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDM+UGVyc29uYWwgSW5mbzwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJuYW1lXCIgdmFsdWU9e3VzZXJEYXRhLm5hbWV9IGlkID0gXCJuYW1lXCIvPlxuICAgICAgICAgICAgICAgICAgICA8YnIvPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiZW1haWxcIiB2YWx1ZT17dXNlckRhdGEuZW1haWx9IGlkID0gXCJlbWFpbFwiLz5cbiAgICAgICAgICAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInBhc3N3b3JkXCIgIHZhbHVlPXt1c2VyRGF0YS5wYXNzd29yZH0gaWQgPSBcInBhc3N3b3JkXCIvPlxuICAgICAgICAgICAgICAgICAgICA8YnIvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDM+QWRkcmVzcyBJbmZvPC9oMz5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibDFcIiAgdmFsdWU9e3VzZXJEYXRhLmwxfSBpZCA9XCJsMVwiLz5cbiAgICAgICAgICAgICAgICA8YnIvPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCInbDJcIiAgdmFsdWU9e3VzZXJEYXRhLmwyfSBpZCA9XCJsMlwiIC8+XG4gICAgICAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiY2l0eVwiICB2YWx1ZT17dXNlckRhdGEuY2l0eX0gaWQgPVwiY2l0eVwiLz5cbiAgICAgICAgICAgICAgICA8YnIvPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzdGF0ZVwiICB2YWx1ZT17dXNlckRhdGEuc3RhdGV9IGlkID1cInN0YXRlXCIvPlxuICAgICAgICAgICAgICAgIDxici8+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInppcFwiICB2YWx1ZT17dXNlckRhdGEuemlwfSBpZCA9XCJ6aXBcIi8+XG4gICAgICAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMz5CaWxsaW5nIEluZm88L2gzPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJjY1wiICB2YWx1ZT17dXNlckRhdGEuY3JlZGl0Q2FyZH0gaWQgPVwiY3JlZGl0Q2FyZFwiLz5cbiAgICAgICAgICAgICAgICA8YnIvPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJleHBcIiAgdmFsdWU9e3VzZXJEYXRhLmV4cH0gaWQgPVwiZXhwXCIvPlxuICAgICAgICAgICAgICAgIDxici8+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImN2dlwiIHZhbHVlPXt1c2VyRGF0YS5jdnZ9IGlkID1cImN2dlwiLz5cbiAgICAgICAgICAgICAgICA8YnIvPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnIvPlxuICAgICAgICAgIDxidXR0b24gb25DbGljayA9IHsoKSA9PiB7dGhpcy5wcm9wcy5wcm9wcy5vbkNsaWNrKCl9fT5QdXJjaGFzZTwvYnV0dG9uPlxuICAgICAgIDwvZGl2PilcbiAgfVxufSBcblxuXG5cblJlYWN0RE9NLnJlbmRlcihcbiAgICA8QXBwIHByb3BzID17e319Lz4sXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpXG4gICk7ICJdfQ==